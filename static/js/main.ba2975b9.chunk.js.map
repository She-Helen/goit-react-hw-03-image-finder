{"version":3,"sources":["services/imagesApi.js","components/searchbar/Searchbar.js","components/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/button/Button.js","components/modal/Modal.js","components/App.js","index.js"],"names":["query","page","apiKey","axios","get","then","res","data","hits","Searchbar","state","handleSubmit","evt","preventDefault","props","onSubmit","setState","handleChange","target","value","name","className","this","type","autoComplete","autoFocus","placeholder","onChange","React","Component","ImageGalleryItem","src","srcOriginal","id","alt","getLargeImageURL","data-source","data-id","onClick","dataset","source","ImageGallery","images","onImageClick","map","el","key","webformatURL","largeImageURL","tags","Button","modalRoot","document","querySelector","Modal","onEscPress","event","code","closeModal","onCloseModal","currentTarget","window","addEventListener","removeEventListener","createPortal","App","isLoading","error","showModal","originalImageURL","fetchImages","imagesApi","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleSubmitForm","searchQuery","handleClickImage","openModal","prevProps","color","height","width","timeout","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ba2975b9.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst fetchImagesWithQuery = (query, page = 1) => {\r\n  const apiKey = '17935593-e396bfe1aec92e4aa57ec3c04';\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${query}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(res => res.data.hits);\r\n};\r\nexport default { fetchImagesWithQuery };\r\n","import React from 'react';\r\n\r\nexport class Searchbar extends React.Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleSubmit = evt => {\r\n    evt.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  handleChange = ({ target: { value, name } }) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"query\"\r\n            value={this.state.query}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport function ImageGalleryItem({\n  src,\n  srcOriginal,\n  id,\n  alt,\n  getLargeImageURL,\n}) {\n  const handleClick = evt => getLargeImageURL(evt.target.dataset.source);\n\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={src}\n        alt={alt}\n        data-source={srcOriginal}\n        data-id={id}\n        className=\"ImageGalleryItem-image\"\n        onClick={handleClick}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  srcOriginal: PropTypes.string.isRequired,\n  id: PropTypes.number,\n  alt: PropTypes.string,\n  getLargeImageURL: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ImageGalleryItem } from '../imageGalleryItem/ImageGalleryItem';\n\nexport function ImageGallery({ images, onImageClick }) {\n  return (\n    <ul className=\"ImageGallery\">\n      {images.map(el => (\n        <ImageGalleryItem\n          key={el.id}\n          src={el.webformatURL}\n          srcOriginal={el.largeImageURL}\n          id={el.id}\n          alt={el.tags}\n          getLargeImageURL={onImageClick}\n        ></ImageGalleryItem>\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport function Button({ onClick }) {\r\n  return (\r\n    <button className=\"Button\" onClick={onClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport class Modal extends React.Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.onEscPress);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.onEscPress);\r\n  }\r\n  onEscPress = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  onCloseModal = event => {\r\n    if (event.target === event.currentTarget) {\r\n      this.props.closeModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.onCloseModal}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.largeImageURL} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\nimport imagesApi from '../services/imagesApi';\n\nimport { Searchbar } from './searchbar/Searchbar';\nimport { ImageGallery } from './imageGallery/ImageGallery';\nimport { Button } from './button/Button';\nimport { Modal } from './modal/Modal';\nimport Loader from 'react-loader-spinner';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport class App extends React.Component {\n  state = {\n    images: [],\n    isLoading: false,\n    query: '',\n    page: 1,\n    error: null,\n    showModal: false,\n    originalImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const nextQuery = this.state.query;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const { query, page } = this.state;\n    this.setState({ isLoading: true });\n    imagesApi\n      .fetchImagesWithQuery(query, page)\n      .then(images =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  handleSubmitForm = searchQuery => {\n    this.setState({ images: [], query: searchQuery, page: 1 });\n  };\n\n  handleClickImage = largeImageURL => {\n    this.openModal(largeImageURL);\n  };\n\n  openModal = largeImageURL =>\n    this.setState({ showModal: true, originalImageURL: largeImageURL });\n\n  closeModal = () => this.setState({ showModal: false, originalImageURL: '' });\n\n  render() {\n    const { images, isLoading, showModal, originalImageURL } = this.state;\n    return (\n      <>\n        <Searchbar onSubmit={this.handleSubmitForm} />\n        <ImageGallery images={images} onImageClick={this.handleClickImage} />\n        {showModal && (\n          <Modal\n            largeImageURL={originalImageURL}\n            closeModal={this.closeModal}\n          ></Modal>\n        )}\n        <div className=\"Btnwrap\">\n          {isLoading && (\n            <Loader\n              type=\"ThreeDots\"\n              color=\"#303f9f\"\n              height={50}\n              width={50}\n              timeout={3000}\n            />\n          )}\n          {images.length > 0 && !isLoading && (\n            <Button onClick={this.fetchImages} />\n          )}\n        </div>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/App';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.module.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}